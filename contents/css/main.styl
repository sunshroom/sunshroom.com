// Development mode true or false?
dev = false

// Nib: https://github.com/visionmedia/nib
@import "nib"

// Normalize: https://github.com/necolas/normalize.css
@import "_normalize"

// Simple semantic grid configuration from Fluidity: http://fluiditycss.com/
grid-min-width    = 320px
grid-width        = 960px
@import "_grid"

// Vertical rhythm inspired by Compass (but mostly original)
base-line-height  = 35px
base-font-size    = 20px
@import "_rhythm"

// Colour scheme
@import "_colour"

// Type: use pre-defined stacks or define your own here; base-font-body, base-font-header, and base-font-monospace
base-font-body    = stack-open
base-font-header  = unquote('"Russo One", ' + stack-tahoma)
@import "_type"

// Self-explanatory
base-p-style      = web // Either "web" (spaces between paragraphs) or "book" (no space but indented)
@import "_global"

// Layout
#body-wrap
  grid()
  overflow visible

#content-wrap
  background rgba(c-body-bg, 0.9)
  border-radius space()
  box-shadow inset 0 3px 50px rgba(0,0,0,0.05), 0 0px 25px rgba(0,0,0,0.1)
  box-sizing border-box
  grid-space(100%)
  margin space() 0
  padding space() space(2)

#avatar
  left space(-3.5)
  position absolute
  z-index 3

.avatar
  border-radius(space(3))
  box-shadow inset 0 4px 10px rgba(0,0,0,0.5), inset 0 -4px 20px rgba(255,255,255,1)
  height space(3)
  width space(3)
  &:hover
    box-shadow inset 0 -4px 15px rgba(0,0,0,0.75), inset 0 2px 30px rgba(255,255,255,1)
    transition box-shadow .4s ease-out

.avatar img
  border-radius(space(3))
  box-sizing border-box
  box-shadow 3px 3px 20px rgba(0,0,0,0.7)
  height space(3)
  position relative
  width space(3)
  z-index -1

#header
  margin 0 0 space()
  a:hover
    text-decoration none
  h1:hover
    background-clip text
    background-color c-body + 25%
    color transparent
    text-shadow 2px 2px 5px rgba(0,0,0,0.3)
    transition .5s ease-out

#nav-main
  float left
  ul
    list-style-type none
    margin-left space(-0.5)
    li
      background #FFFFFF
      border-radius space(0.25)
      box-shadow inset 0px -2px 6px rgba(0,0,0,0.1)
      float left
      font-weight bold
      padding 0 space(0.5) 0 space(0.5)
      text-shadow 1px 1px 3px rgba(255,255,255,0.8)
      text-transform uppercase
      &:hover
        background linear-gradient(top, 3% #FFFFFF, rgba(255,255,255,0.1), rgba(0,0,0,0.1))
      a
        text-decoration none
    li+li
      margin-left space(0.25)
    .active
      background linear-gradient(top, 3% #FFFFFF, rgba(255,255,255,0.1), rgba(0,0,0,0.1))
      box-shadow inset 0px 2px 6px rgba(0,0,0,0.2)
      &:hover
        background linear-gradient(top, 3% #FFFFFF, rgba(255,255,255,0.15), rgba(0,0,0,0.15))
        box-shadow inset 0px 2px 6px rgba(0,0,0,0.25)

.content-wrap
  clearfix()

#footer
  scale 8
  margin space() auto 0

// A note about the "partials" method of organization
// wintersmith-stylus usually parses anything ending in .styl; this means that if you have a bunch of @import statements all those files will also be parsed on their own (e.g. .styl -> .css)
// This will throw errors when building if you reference variables from one styl file in another without defining defaults
// The compromise: rename all partials with an underscore and add a new glob pattern matching "**/_*.styl" to the ignore array in config.json